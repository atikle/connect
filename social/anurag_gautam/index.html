<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow">
    <meta name="keyword" content="atikleconnectrecordings, atikle connect recordings, financial webinar recordings, atikle financial webinar recordings">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-75KEQGM2PS"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-75KEQGM2PS');
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://atikle.github.io/connect/framework/universal/script.js"></script>
    <script>
        $(function () {
            $("#header-placeholder").load("https://atikle.github.io/connect/framework/header.html");
        });
        $(function () {
            $("#navbar-placeholder").load("https://atikle.github.io/connect/framework/navbar.html");
        });
    </script>

    <script src="https://atikle.github.io/connect/data/users.js"></script>
    <script src="posts.js"></script>
    <script src="webinars.js"></script>
    
    <link rel="stylesheet" href="https://atikle.github.io/framework/universal/brand.css">
    <link rel="stylesheet" href="https://atikle.github.io/connect/connect.css">
    <link rel="stylesheet" href="https://atikle.github.io/connect/social/profile.css">

    <title>@anurag_gautam | atikle connect</title>
    <link rel="icon" href="https://atikle.github.io/resource/atikle_connect/atikle_connect-icon-transparent.png" type="image/x-icon">

    <style>
    </style>

</head>

<body>

    <div id="header-placeholder"></div>
    <div id="navbar-placeholder"></div>

    <div class="main-content">
        <div class="scroolable-content">
            <div class="profile-container">
                <div class="profile-wrapper">

                    <div class="profile-header">
                        <div class="profile-info">
                            <div class="profile-picture">
                                <img id="profile-avatar" src="" alt="User Profile Picture">
                            </div>
                            <div class="user-details">
                                <h1 id="profile-name" class="user-name"></h1>
                                <h2 id="profile-handle" class="user-handle"></h2>

                                <div class="user-stats">
                                    <div class="user-stat">
                                        <span id="profile-posts-count" class="value count-up">0</span><br>
                                        <span class="label">Posts</span>
                                    </div>
                                    <div class="user-stat">
                                        <span id="profile-webinars-count" class="value count-up">0</span><br>
                                        <span class="label">Webinars</span>
                                    </div>
                                </div>

                                <div id="profile-social-links" class="social-links"></div>
                            </div>
                        </div>
                        <p id="profile-bio" class="about-text"></p>
                    </div>

                    <div class="tabs-container">
                        <div class="profile-tabs">
                            <button class="tab-btn active" data-tab="posts">Posts</button>
                            <button class="tab-btn" data-tab="webinars">Webinars</button>
                            <div class="slider"></div>
                        </div>
                    </div>

                    <div class="profile-content">

                        <div id="posts" class="tab-content active">
                            <div class="posts-feed">

                                <div id="posts" class="tab-content active">
                                    <div class="posts-feed"></div>
                                </div>

                            </div>
                        </div>

                        <div id="webinars" class="tab-content">
                            <div class="webinars-list">

                                <div id="webinars" class="tab-content">
                                    <div class="webinars-list"></div>
                                </div>
                                
                            </div>
                        </div>

                    </div>
                </div>           
            </div>
        </div>
    </div>



    <script>
        document.addEventListener('DOMContentLoaded', function() {
            
            // --- DATA ---
            // Assuming 'users', 'posts', and 'webinars' are loaded from their respective .js files
            const currentUser = users['anurag_gautam']; 

            // --- 1. RENDER MAIN PROFILE ---
            function renderProfile() {
                if (!currentUser) return;
                document.getElementById('profile-avatar').src = currentUser.avatarUrl;
                document.getElementById('profile-name').innerText = currentUser.name;
                document.getElementById('profile-handle').innerText = currentUser.username;
                document.getElementById('profile-bio').innerText = currentUser.bio;
                document.getElementById('profile-posts-count').innerText = currentUser.stats.posts;
                document.getElementById('profile-webinars-count').innerText = currentUser.stats.webinars;
                const socialContainer = document.getElementById('profile-social-links');
                socialContainer.innerHTML = '';
                for (const [platform, url] of Object.entries(currentUser.socials)) {
                    const link = document.createElement('a');
                    link.href = url;
                    link.innerText = platform.charAt(0).toUpperCase() + platform.slice(1);
                    socialContainer.appendChild(link);
                }
            }

            // --- 2. RENDER POSTS ---
            function renderPosts() {
                const feedContainer = document.querySelector('.posts-feed');
                feedContainer.innerHTML = ''; 
                posts.forEach(post => {
                    const author = users[post.authorUsername];
                    if (!author) return;
                    const postHTML = `
                        <article class="post-item">
                            <div class="post-header">
                                <div class="post-author"><div class="post-author-avatar"><img src="${author.avatarUrl}" alt="${author.name}'s profile picture"></div><div class="post-author-info"><p class="post-author-name">${author.name}</p><p class="post-author-handle">${author.username}</p></div></div>
                                <div class="post-options"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><circle cx="12" cy="5" r="2"></circle><circle cx="12" cy="12" r="2"></circle><circle cx="12" cy="19" r="2"></circle></svg></div>
                            </div>
                            <p class="post-meta">Posted on ${post.timestamp}</p>
                            <p class="post-text">${post.text}</p>
                            ${post.imageUrl ? `<img class="post-image" src="${post.imageUrl}" alt="Post image">` : ''}
                        </article>`;
                    feedContainer.innerHTML += postHTML;
                });
            }

            // --- 3. RENDER WEBINARS (NEW FUNCTION) ---
            function renderWebinars() {
                const webinarContainer = document.querySelector('.webinars-list');
                webinarContainer.innerHTML = ''; // Clear container

                webinars.forEach(webinar => {
                    const webinarHTML = `
                        <article class="webinar-card">
                            <div class="webinar-thumbnail">
                                <img src="${webinar.thumbnailUrl}" alt="Webinar Thumbnail">
                            </div>
                            <div class="webinar-details">
                                <h3>${webinar.title}</h3>
                                <p class="webinar-time">Hosted on: ${webinar.date}</p>
                                <div class="webinar-actions">
                                    <a href="${webinar.recordingUrl}" class="btn-action btn-recording">Watch Recording</a>
                                    <a href="${webinar.filesUrl}" class="btn-action btn-files">View Files</a>
                                </div>
                            </div>
                        </article>
                    `;
                    webinarContainer.innerHTML += webinarHTML;
                });
            }

            // --- 4. ANIMATED STATS ---
            function animateStats() {
                const counters = document.querySelectorAll('.count-up');
                counters.forEach(counter => {
                    const target = +counter.innerText;
                    counter.innerText = '0';
                    const delay = 75; 
                    let currentCount = 0;
                    const updateCount = setInterval(() => {
                        currentCount++;
                        counter.innerText = currentCount;
                        if (currentCount >= target) {
                            clearInterval(updateCount);
                            counter.innerText = target;
                        }
                    }, delay);
                });
            }

            // --- 5. TABS LOGIC ---
            function setupTabs() {
                const tabs = document.querySelectorAll('.tab-btn');
                const contents = document.querySelectorAll('.tab-content');
                const slider = document.querySelector('.slider');

                function moveSlider(activeTab) {
                    if (!activeTab) return;
                    slider.style.width = `${activeTab.offsetWidth}px`;
                    slider.style.transform = `translateX(${activeTab.offsetLeft}px)`;
                }

                const initialActiveTab = document.querySelector('.tab-btn.active');
                moveSlider(initialActiveTab);

                tabs.forEach(tab => {
                    tab.addEventListener('click', () => {
                        tabs.forEach(item => item.classList.remove('active'));
                        contents.forEach(item => item.classList.remove('active'));
                        tab.classList.add('active');
                        document.getElementById(tab.dataset.tab).classList.add('active');
                        moveSlider(tab);
                    });
                });

                window.addEventListener('resize', () => moveSlider(document.querySelector('.tab-btn.active')));
            }

            // --- INITIALIZE EVERYTHING ---
            renderProfile();
            renderPosts();
            renderWebinars(); // <-- Call the new function
            animateStats();
            setupTabs();
        });
    </script>

    <script src="https://atikle.github.io/connect/framework/universal/theme.js"></script>

</body>
</html>